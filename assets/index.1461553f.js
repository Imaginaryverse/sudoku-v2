import{j as C,r as m,R as T,a as w}from"./vendor.1530fac7.js";const I=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}};I();function $(t){return[...t].sort(()=>Math.random()-.5)}const O=9;function j(t,s,o,n){for(let f=0;f<t.length;f++)if(t[s][f]==n)return!1;for(let f=0;f<t.length;f++)if(t[f][o]==n)return!1;const e=Math.floor(Math.sqrt(t.length)),r=s-s%e,a=o-o%e;for(let f=r;f<r+e;f++)for(let h=a;h<a+e;h++)if(t[f][h]==n)return!1;return!0}function x(t,s){let o=-1,n=-1,e=!0;for(let r=0;r<s;r++)for(let a=0;a<s;a++){if(t[r][a]===0){o=r,n=a,e=!1;break}if(!e)break}if(e)return!0;for(let r=1;r<=s;r++)if(j(t,o,n,r)){if(t[o][n]=r,x(t,s))return!0;t[o][n]=0}return!1}function B(){const t=[$([1,2,3,4,5,6,7,8,9]),new Array(9).fill(0),new Array(9).fill(0),new Array(9).fill(0),new Array(9).fill(0),new Array(9).fill(0),new Array(9).fill(0),new Array(9).fill(0),new Array(9).fill(0)];if(x(t,O))return[...t];throw new Error("Could not generate board...")}function _(t){return t.map(o=>o.map(n=>({value:n,locked:n!==0,incorrect:!1})))}function F(t,s){const o=[...t];let n=0;for(;n<s;){const e=Math.floor(Math.random()*81),r=Math.floor(e/9),a=e%9;o[r][a].value!==0&&(o[r][a].value=0,o[r][a].locked=!1,n++)}return o}const c=C.exports.jsx,g=C.exports.jsxs,k=m.exports.createContext(null),Y=({children:t})=>{const[s,o]=m.exports.useState("IN_SELECT_DIFFICULTY"),[n,e]=m.exports.useState("normal"),[r,a]=m.exports.useState([]),[f,h]=m.exports.useState([]),[N,b]=m.exports.useState(0),[A,i]=m.exports.useState(!1);function l(y){return e(y)}function d(){a(B())}function S(y){const p=_([...y]);let u=45;switch(n){case"very easy":u=15;break;case"easy":u=25;break;case"normal":u=40;break;case"hard":u=55;break;case"very hard":u=64;break;default:u=40;break}const v=F(p,u);h(v)}function E(y){b(u=>u+=1);const p=[...y];for(let u in p)for(let v in p[u])!p[u][v].locked&&p[u][v].value!==r[u][v]&&(p[u][v].incorrect=!0);p.every((u,v)=>u.every((M,R)=>M.value===r[v][R]))&&i(!0),h(p)}function L(){o("IS_LOADING");const y=B();a(y),S(y),o("IN_GAME")}function D(){o("IN_SELECT_DIFFICULTY"),a([]),h([]),b(0),i(!1)}return c(k.Provider,{value:{gameState:s,setGameState:o,difficulty:n,selectDifficulty:l,board:f,generateSolvedBoard:d,startGame:L,checkCorrectness:E,attempts:N,isCorrectSolution:A,goBack:D},children:t})},G=[{name:"VERY EASY",value:"very easy"},{name:"EASY",value:"easy"},{name:"NORMAL",value:"normal"},{name:"HARD",value:"hard"},{name:"VERY HARD",value:"very hard"}],P=()=>{const{difficulty:t,selectDifficulty:s,generateSolvedBoard:o,startGame:n}=m.exports.useContext(k);return g("div",{className:"select-difficulty-screen",children:[c("h4",{children:"Select difficulty:"}),c("div",{className:"difficulty-btn-container",children:G.map((e,r)=>c("button",{className:`btn difficulty-btn ${t===e.value?"selected":""}`,onClick:()=>s(e.value),children:e.name},r))}),c("button",{className:"btn start-btn",onClick:()=>n(),children:"START"})]})};function U(t){const s=Math.floor(t/60/60),o=Math.floor(t/60)%60,n=Math.floor(t-o*60);let e="";return e+=s?`${s}h `:"",e+=o?`${o}min `:"",e+=`${n}s`,e}const q=()=>{const{board:t,checkCorrectness:s,attempts:o,isCorrectSolution:n,difficulty:e,goBack:r}=m.exports.useContext(k),[a,f]=m.exports.useState([]),[h,N]=m.exports.useState(0);function b(i,l){if(n)return;const d=[...t];d[i][l].value===9?(d[i][l].value=0,d[i][l].incorrect=!1):(d[i][l].value++,d[i][l].incorrect=!1),f(d)}function A(i,l){if(i===3||i===4||i===5){if(l===3||l===4||l===5)return"is-gray"}else return l===0||l===1||l===2||l===6||l===7||l===8?"is-gray":""}return m.exports.useEffect(()=>{let i;return n?clearInterval(i):i=setInterval(()=>{N(l=>l+=1)},1e3),()=>clearInterval(i)},[n]),m.exports.useEffect(()=>{f([...t])},[t]),g("div",{className:"sudoku-game-screen",children:[c("table",{className:"sudoku-board",cellPadding:"0",cellSpacing:"0",children:c("tbody",{children:a.length?a.map((i,l)=>c("tr",{className:"board-row",children:i.map((d,S)=>c("td",{className:`board-cell ${A(l,S)} ${d.locked?"locked":""} ${n?"done":""}`,onClick:d.locked?void 0:()=>b(l,S),children:c("p",{className:`cell-value ${d.incorrect?"incorrect":""} ${n&&!d.locked&&!d.incorrect?"correct":""}`,children:d.value?d.value:null})},S))},l)):null})}),g("div",{className:"info-screen",children:[n?c("h3",{className:"success-msg",children:"WELL DONE!"}):"",g("p",{className:"info",children:[c("b",{children:"Difficulty"}),": ",e]}),g("p",{className:"info",children:[c("b",{children:"Elapsed time"}),": ",U(h)]}),g("p",{className:"info",children:[c("b",{children:"Number of attempts"}),": ",o]})]}),g("div",{className:"game-btn-container",children:[c("button",{className:"btn back-btn",onClick:()=>r(),children:n?"Play Again":"Back"}),n?null:c("button",{className:"btn try-solution-btn",onClick:()=>s(a),disabled:n,children:"Try Solution"})]})]})},H=()=>{const{board:t,gameState:s}=m.exports.useContext(k);return g("div",{className:"App",children:[c("h2",{style:{marginBottom:"1rem"},children:"TAP SUDOKU"}),s==="IN_SELECT_DIFFICULTY"?c(P,{}):null,t.length?c(q,{}):null]})};T.render(c(w.StrictMode,{children:c(Y,{children:c(H,{})})}),document.getElementById("root"));
