import{j as A,r as f,R,a as T}from"./vendor.1530fac7.js";const I=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}};I();function O(t){return[...t].sort(()=>Math.random()-.5)}const j=9;function _(t,s,o,n){for(let i=0;i<t.length;i++)if(t[s][i]==n)return!1;for(let i=0;i<t.length;i++)if(t[i][o]==n)return!1;const e=Math.floor(Math.sqrt(t.length)),r=s-s%e,a=o-o%e;for(let i=r;i<r+e;i++)for(let h=a;h<a+e;h++)if(t[i][h]==n)return!1;return!0}function C(t,s){let o=-1,n=-1,e=!0;for(let r=0;r<s;r++)for(let a=0;a<s;a++){if(t[r][a]===0){o=r,n=a,e=!1;break}if(!e)break}if(e)return!0;for(let r=1;r<=s;r++)if(_(t,o,n,r)){if(t[o][n]=r,C(t,s))return!0;t[o][n]=0}return!1}function x(){const t=[O([1,2,3,4,5,6,7,8,9]),new Array(9).fill(0),new Array(9).fill(0),new Array(9).fill(0),new Array(9).fill(0),new Array(9).fill(0),new Array(9).fill(0),new Array(9).fill(0),new Array(9).fill(0)];if(C(t,j))return[...t];throw new Error("Could not generate board...")}function $(t){return t.map(o=>o.map(n=>({value:n,locked:n!==0,incorrect:!1})))}function F(t,s){const o=[...t];let n=0;for(;n<s;){const e=Math.floor(Math.random()*81),r=Math.floor(e/9),a=e%9;o[r][a].value!==0&&(o[r][a].value=0,o[r][a].locked=!1,n++)}return o}const l=A.exports.jsx,S=A.exports.jsxs,k=f.exports.createContext(null),Y=({children:t})=>{const[s,o]=f.exports.useState("IN_SELECT_DIFFICULTY"),[n,e]=f.exports.useState("normal"),[r,a]=f.exports.useState([]),[i,h]=f.exports.useState([]),[N,g]=f.exports.useState(0),[d,m]=f.exports.useState(!1);function u(y){return e(y)}function b(){a(x())}function B(y){const p=$([...y]);let c=45;switch(n){case"very easy":c=15;break;case"easy":c=25;break;case"normal":c=40;break;case"hard":c=55;break;case"very hard":c=64;break;default:c=40;break}const v=F(p,c);h(v)}function E(y){g(c=>c+=1);const p=[...y];for(let c in p)for(let v in p[c])!p[c][v].locked&&p[c][v].value!==r[c][v]&&(p[c][v].incorrect=!0);p.every((c,v)=>c.every((M,w)=>M.value===r[v][w]))&&m(!0),h(p)}function L(){o("IS_LOADING");const y=x();a(y),B(y),o("IN_GAME")}function D(){o("IN_SELECT_DIFFICULTY"),a([]),h([]),g(0),m(!1)}return l(k.Provider,{value:{gameState:s,setGameState:o,difficulty:n,selectDifficulty:u,board:i,generateSolvedBoard:b,startGame:L,checkCorrectness:E,attempts:N,isCorrectSolution:d,goBack:D},children:t})},P=[{name:"VERY EASY",value:"very easy"},{name:"EASY",value:"easy"},{name:"NORMAL",value:"normal"},{name:"HARD",value:"hard"},{name:"VERY HARD",value:"very hard"}],G=()=>{const{difficulty:t,selectDifficulty:s,generateSolvedBoard:o,startGame:n}=f.exports.useContext(k);return S("div",{className:"select-difficulty-screen",children:[l("h4",{children:"Select difficulty:"}),l("div",{className:"difficulty-btn-container",children:P.map((e,r)=>l("button",{className:`btn difficulty-btn ${t===e.value?"selected":""}`,onClick:()=>s(e.value),children:e.name},r))}),l("button",{className:"btn start-btn",onClick:()=>n(),children:"START"})]})};function U(t){const s=Math.floor(t/60/60),o=Math.floor(t/60)%60,n=Math.floor(t-o*60);let e="";return e+=s?`${s}h `:"",e+=o?`${o}min `:"",e+=`${n}s`,e}const q=()=>{const{board:t,checkCorrectness:s,attempts:o,isCorrectSolution:n,difficulty:e,goBack:r}=f.exports.useContext(k),[a,i]=f.exports.useState([]),[h,N]=f.exports.useState(0);function g(d,m){if(n)return;const u=[...t];u[d][m].value===9?(u[d][m].value=0,u[d][m].incorrect=!1):(u[d][m].value++,u[d][m].incorrect=!1),i(u)}return f.exports.useEffect(()=>{let d;return n?clearInterval(d):d=setInterval(()=>{N(m=>m+=1)},1e3),()=>clearInterval(d)},[n]),f.exports.useEffect(()=>{i([...t])},[t]),S("div",{className:"sudoku-game-screen",children:[l("table",{className:"sudoku-board",cellPadding:"0",cellSpacing:"0",children:l("tbody",{children:a.length?a.map((d,m)=>l("tr",{className:"board-row",children:d.map((u,b)=>l("td",{className:`board-cell ${u.locked?"locked":""}`,onClick:u.locked?void 0:()=>g(m,b),children:l("p",{className:`cell-value ${u.incorrect?"incorrect":null} ${n&&!u.locked&&!u.incorrect?"correct":null}`,children:u.value?u.value:null})},b))},m)):null})}),S("div",{className:"info-screen",children:[n?l("h3",{className:"success-msg",children:"WELL DONE!"}):"",S("p",{className:"info",children:[l("b",{children:"Difficulty"}),": ",e]}),S("p",{className:"info",children:[l("b",{children:"Elapsed time"}),": ",U(h)]}),S("p",{className:"info",children:[l("b",{children:"Number of attempts"}),": ",o]})]}),S("div",{className:"game-btn-container",children:[l("button",{className:"btn back-btn",onClick:()=>r(),children:n?"Play Again":"Back"}),n?null:l("button",{className:"btn try-solution-btn",onClick:()=>s(a),disabled:n,children:"Try Solution"})]})]})},H=()=>{const{board:t,gameState:s}=f.exports.useContext(k);return S("div",{className:"App",children:[l("h2",{style:{marginBottom:"1rem"},children:"TAP SUDOKU"}),s==="IN_SELECT_DIFFICULTY"?l(G,{}):null,t.length?l(q,{}):null]})};R.render(l(T.StrictMode,{children:l(Y,{children:l(H,{})})}),document.getElementById("root"));
